/* ==========================================
   GOOGLE SEARCH ME - MOBILE STYLES
   Centralized mobile and responsive styles
   ========================================== */

/* ==========================================
   MOBILE BREAKPOINTS
   - Mobile: max-width: 480px (iPhone, small phones)
   - iPhone Retina: max-width: 480px + high DPI
   - Tablet: 481px - 768px (iPad, tablets)
   - Desktop: 769px+ 
   ========================================== */

/* ==========================================
   MOBILE FIRST - PHONES (max-width: 480px)
   iPhone, Android phones, small devices
   ========================================== */

@media (max-width: 480px) {
    /* ==========================================
       BODY & CONTAINER - PREVENT HORIZONTAL SCROLLING
       ========================================== */
    
    html, body {
        overflow-x: hidden !important;
        position: fixed !important;
        width: 100% !important;
        height: 100% !important;
        -webkit-overflow-scrolling: touch !important;
        overscroll-behavior-x: none !important; /* Prevent horizontal bounce */
        touch-action: pan-y !important; /* Only allow vertical panning */
    }
    
    .container {
        padding: 10px;
        overflow-x: hidden !important; /* Prevent container overflow */
        width: 100% !important;
        max-width: 100% !important;
        position: relative !important;
        touch-action: pan-y !important; /* Only vertical scrolling */
    }

    /* ==========================================
       HEADER LAYOUT - COMPACT MOBILE HEADER
       ========================================== */
    
    .header-row {
        flex-direction: column;
        align-items: stretch;
        gap: 8px; /* Reduced gap for space saving */
    }
    
    /* HIDE APP TITLE ON MOBILE TO SAVE SPACE */
    .container .header-row .main-header h1 {
        display: none !important;
        visibility: hidden !important;
        height: 0 !important;
        line-height: 0 !important;
        font-size: 0 !important;
    }
    
    /* Keep header container but minimize its space */
    .container .header-row .main-header {
        height: 0 !important;
        overflow: hidden !important;
        margin: 0 !important;
        padding: 0 !important;
    }

    /* ==========================================
       SEARCH & PROFILE ROW - INLINE LAYOUT
       ========================================== */
    
    /* SEARCH ROW WITH PROFILE ICON - Inline layout for maximum search space */
    .search-profile-row {
        display: flex !important;
        align-items: center !important;
        gap: 8px !important; /* Minimal gap for tight layout */
        width: 100% !important;
        overflow: hidden !important; /* Prevent overflow */
        touch-action: none !important; /* Disable touch interactions on container */
    }
    
    .header-row .search-container {
        flex: 1 !important; /* Take all remaining space */
        max-width: none !important;
        margin: 0 !important;
        width: 100% !important; /* Ensure full width usage */
        overflow: hidden !important; /* Prevent search container overflow */
        touch-action: manipulation !important; /* Allow only essential touch interactions */
    }
    
    .search-box {
        height: 44px; /* Touch-friendly height */
        overflow: hidden !important; /* Prevent overflow */
        touch-action: manipulation !important; /* Essential touch only */
    }
    
    .search-box input {
        font-size: 16px; /* Prevent zoom on iOS */
        padding: 12px 50px 12px 16px;
        touch-action: manipulation !important; /* Allow typing but prevent drag */
        -webkit-user-select: text !important; /* Allow text selection */
        user-select: text !important;
    }
    
    .search-box button {
        width: 44px;
        height: 44px;
    }

    /* ==========================================
       USER AUTHENTICATION - PROFILE ICON
       ========================================== */
    
    .auth-section {
        order: 0 !important; /* Keep in normal order */
        margin-bottom: 0 !important; /* Remove margin */
        justify-content: flex-end !important; /* Align to right */
        flex-shrink: 0 !important; /* Don't shrink - fixed size */
        flex-grow: 0 !important; /* Don't grow - fixed size */
        background: none !important; /* Override auth-nav.css background */
        border: none !important; /* Override auth-nav.css border */
        padding: 0 !important; /* Override auth-nav.css padding */
        border-radius: 0 !important; /* Override auth-nav.css border-radius */
        gap: 0 !important; /* Remove any gap */
        width: auto !important; /* Auto width for content */
        max-width: none !important; /* Remove max-width constraint */
        min-height: auto !important; /* Remove min-height constraint */
        min-width: auto !important; /* Minimum width for icon */
    }
    
    .user-info {
        justify-content: flex-end !important; /* Align user info to right */
        background: none !important; /* Remove any background container */
        border: none !important; /* Remove any border container */
        padding: 0 !important; /* Remove container padding */
        margin: 0 !important; /* Remove any margin */
        box-shadow: none !important; /* Remove any shadow */
        border-radius: 0 !important; /* Remove any border radius */
        min-height: auto !important; /* Remove min-height constraint */
        max-width: none !important; /* Remove max-width constraint */
        width: auto !important; /* Auto width instead of fixed */
    }
    
    /* CLEAN USER MENU CONTAINER FOR MOBILE */
    .user-menu {
        background: none !important;
        border: none !important;
        padding: 0 !important;
        margin: 0 !important;
        box-shadow: none !important;
        position: relative !important; /* Reset positioning */
        display: inline-block !important; /* Minimal container */
    }
    
    /* COMPACT USER MENU FOR MOBILE - ROUND ICON ONLY */
    .container .header-row .auth-section .user-info .user-menu .user-menu-btn {
        width: 36px !important;  /* Smaller compact size */
        height: 36px !important;
        border-radius: 50% !important; /* Perfect circle */
        background: var(--primary-color, #1a73e8) !important;
        color: white !important;
        border: none !important; /* Remove any border container */
        box-shadow: 0 2px 4px rgba(0,0,0,0.2) !important;
        padding: 0 !important; /* Remove container padding */
        margin: 0 !important; /* Remove any margin */
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        cursor: pointer !important;
        transition: none !important; /* Remove hover transitions */
        min-height: 36px !important; /* Override touch-friendly min-height */
        max-width: none !important; /* Override any max-width */
    }
    
    .container .header-row .auth-section .user-info .user-menu .user-menu-btn:hover {
        background: var(--primary-color, #1a73e8) !important; /* Keep same background on hover */
        transform: none !important; /* No transform effects */
    }
    
    .container .header-row .auth-section .user-info .user-menu .user-menu-btn svg {
        width: 20px !important;
        height: 20px !important;
        fill: none !important;
        stroke: currentColor !important;
        stroke-width: 2 !important;
        color: white !important; /* Ensure white color on iPhone */
        display: block !important; /* Force display */
        opacity: 1 !important; /* Ensure visible */
        visibility: visible !important; /* Force visibility */
    }
    
    /* Additional SVG path targeting for person icon */
    .container .header-row .auth-section .user-info .user-menu .user-menu-btn svg path,
    .container .header-row .auth-section .user-info .user-menu .user-menu-btn svg circle {
        stroke: white !important;
        fill: none !important;
        display: block !important;
    }
    
    /* Hide welcome text on mobile to save space */
    .username {
        display: none !important;
    }

    /* ==========================================
       MAP CONTROLS - GPS, CLICK TO SAVE, CLUSTERING
       ========================================== */
    
    /* MAP CONTROLS - Mobile positioning to prevent overhang */
    .map-controls {
        top: 8px !important;
        right: 15px !important; /* More margin for mobile */
        gap: 6px !important;
        z-index: 1000 !important;
    }
    
    .map-control-btn {
        width: 36px !important;
        height: 36px !important;
        font-size: 16px !important;
        box-shadow: 0 2px 8px rgba(0,0,0,0.2) !important; /* Better visibility */
    }

    /* ==========================================
       MAIN LAYOUT - MOBILE STACK
       ========================================== */
    
    .main-content {
        flex-direction: column;
        gap: 10px;
        margin-top: 10px;
    }

    .sidebar {
        width: 100%;
        height: auto;
        max-height: 300px; /* Limit height on mobile */
        order: 2;
        border-radius: 8px;
        overflow-x: hidden !important; /* Prevent horizontal scrolling in sidebar */
        touch-action: pan-y !important; /* Only vertical scrolling */
    }
    
    /* Enhanced Map Container - Mobile responsive */
    .map-container.enhanced-map {
        height: 60vh; /* Better mobile height */
        min-height: 400px;
        order: 1;
        border-radius: 8px;
        max-height: 60vh; /* Prevent map from taking too much space */
    }    /* ==========================================
       FILTER CONTROLS - MOBILE COMPACT
       ========================================== */
    
    .location-filters.horizontal {
        padding: 10px;
        margin-bottom: 10px;
    }
    
    .location-filters.horizontal h4 {
        font-size: 14px;
        margin-bottom: 8px;
        text-align: center;
    }
    
    .location-filters.horizontal .filter-options {
        flex-wrap: wrap;
        justify-content: center;
        gap: 8px;
    }
    
    .filter-option {
        flex: 0 0 auto;
        min-width: auto;
    }
    
    .filter-label {
        font-size: 12px;
        padding: 6px 8px;
    }
    
    .type-marker {
        width: 18px;
        height: 18px;
        font-size: 10px;
    }

    /* ==========================================
       FORMS - MOBILE RESPONSIVE
       ========================================== */
    
    .form-container {
        padding: 15px;
        margin: 10px 0;
    }
    
    .form-group {
        margin-bottom: 15px;
    }
    
    .form-group label {
        font-size: 14px;
        margin-bottom: 5px;
    }
    
    .form-group input,
    .form-group select,
    .form-group textarea {
        padding: 12px;
        font-size: 16px; /* Prevent zoom on iOS */
        border-radius: 6px;
    }
    
    .btn {
        padding: 12px 20px;
        font-size: 16px;
        width: 100%;
        margin-bottom: 10px;
    }
    
    .btn-group {
        flex-direction: column;
        gap: 10px;
    }

    /* ==========================================
       NOTIFICATIONS - MOBILE OPTIMIZED
       ========================================== */
    
    .notification-confirm {
        width: 95%;
        margin: 0 2.5%;
    }
    
    .notification-toast {
        right: 10px;
        left: 10px;
        max-width: none;
        min-width: auto;
    }

    /* ==========================================
       PHOTOS - MOBILE GRID
       ========================================== */
    
    .photos-grid {
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 10px;
    }
    
    .photo-modal-content {
        max-width: 95vw;
        max-height: 95vh;
    }
    
    .photo-modal-info {
        padding: 15px;
    }
}

/* ==========================================
   IPHONE SPECIFIC FIXES
   High DPI iPhone devices with specific quirks
   ========================================== */

@media only screen and (max-width: 480px) and (-webkit-min-device-pixel-ratio: 2) {
    /* USER MENU BUTTON - iPhone specific styling */
    .container .header-row .auth-section .user-info .user-menu .user-menu-btn {
        width: 36px !important;
        height: 36px !important;
        border-radius: 50% !important;
        background: #1a73e8 !important;
        color: white !important;
        border: none !important;
        padding: 0 !important;
        margin: 0 !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
    }
    
    .container .header-row .auth-section .user-info .user-menu .user-menu-btn svg {
        width: 20px !important;
        height: 20px !important;
        fill: none !important;
        stroke: white !important;
        stroke-width: 2 !important;
        display: block !important;
        opacity: 1 !important;
        visibility: visible !important;
    }
    
    .container .header-row .auth-section .user-info .user-menu .user-menu-btn svg path,
    .container .header-row .auth-section .user-info .user-menu .user-menu-btn svg circle {
        stroke: white !important;
        fill: none !important;
        display: block !important;
    }
    
    /* MAP CONTROLS - iPhone specific positioning for proper margin */
    .map-controls {
        top: 8px !important;
        right: 35px !important; /* Extra margin for iPhone to prevent overhang */
        gap: 6px !important;
        z-index: 1000 !important;
    }
    
    .map-control-btn {
        width: 36px !important;
        height: 36px !important;
        font-size: 16px !important;
        box-shadow: 0 2px 8px rgba(0,0,0,0.25) !important;
    }
}

/* ==========================================
   TABLET - IPAD AND MEDIUM DEVICES
   481px - 768px (iPad, small tablets)
   ========================================== */

@media (max-width: 768px) and (min-width: 481px) {
    .container {
        padding: 15px;
    }
    
    .header-row {
        flex-direction: column;
        align-items: stretch;
        gap: 12px; /* Reduced gap for space saving */
    }
    
    /* HIDE APP TITLE ON TABLET FOR MORE SPACE */
    .container .header-row .main-header h1 {
        display: none !important;
        visibility: hidden !important;
        height: 0 !important;
        line-height: 0 !important;
        font-size: 0 !important;
    }
    
    /* Keep header container but minimize its space */
    .container .header-row .main-header {
        height: 0 !important;
        overflow: hidden !important;
        margin: 0 !important;
        padding: 0 !important;
    }
    
    /* COMPACT USER MENU FOR TABLET */
    .auth-section {
        justify-content: flex-end; /* Align to right */
    }
    
    .user-menu {
        background: none !important;
        border: none !important;
        padding: 0 !important;
        margin: 0 !important;
        box-shadow: none !important;
    }
    
    .user-menu-btn {
        width: 40px !important;  /* Compact size for tablet */
        height: 40px !important;
        border-radius: 50% !important;
        background: var(--primary-color, #1a73e8) !important;
        color: white !important;
        border: none !important;
        box-shadow: 0 2px 4px rgba(0,0,0,0.15) !important;
        padding: 0 !important;
        margin: 0 !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        cursor: pointer !important;
    }
    
    .user-menu-btn svg {
        width: 22px !important;
        height: 22px !important;
        fill: none !important;
        stroke: currentColor !important;
        stroke-width: 2 !important;
    }
    
    .header-row .search-container {
        max-width: 100%;
    }
    
    .search-box {
        height: 48px;
    }
    
    .search-box input {
        font-size: 16px;
        padding: 14px 50px 14px 18px;
    }
    
    .main-content {
        flex-direction: column;
        gap: 15px;
    }

    .sidebar {
        width: 100%;
        height: auto;
        max-height: 350px;
        order: 2;
    }
    
    /* Enhanced Map Container - Tablet responsive */
    .map-container.enhanced-map {
        height: 500px;
        order: 1;
        max-height: 500px;
    }    .location-filters.horizontal .filter-options {
        justify-content: center;
        flex-wrap: wrap;
        gap: 10px;
    }

    /* MAP CONTROLS - Tablet positioning */
    .map-controls {
        top: 8px;
        right: 12px;
        gap: 6px;
    }
    
    .map-control-btn {
        width: 38px;
        height: 38px;
        font-size: 17px;
    }
}

/* ==========================================
   SMALL DESKTOP - LARGE TABLETS
   769px - 1024px (Large tablets, small laptops)
   ========================================== */

@media (max-width: 1024px) and (min-width: 769px) {
    .header-row {
        gap: 15px;
    }
    
    .main-header h1 {
        font-size: 2.2rem;
    }
    
    .header-row .search-container {
        max-width: 400px;
    }

    /* MAP CONTROLS - Small desktop positioning */
    .map-controls {
        top: 10px;
        right: 10px;
        gap: 8px;
    }
    
    .map-control-btn {
        width: 40px;
        height: 40px;
        font-size: 18px;
    }
}
