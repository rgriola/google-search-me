<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Debug Test</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    button { padding: 10px 15px; margin: 5px; cursor: pointer; }
    .debug { background: #f0f0f0; padding: 10px; margin: 10px 0; border-radius: 5px; }
  </style>
</head>
<body>
  <h1>Admin Panel Debug Test</h1>
  
  <div class="debug">
    <h3>Test Location Button</h3>
    <button class="admin-action-btn" 
            data-location-id="1" 
            data-location-name="Test Location"
            data-location-lat="40.7128"
            data-location-lng="-74.0060"
            data-action="view"
            onclick="testLocationAction(this)">
      Test View Button
    </button>
  </div>

  <div class="debug">
    <h3>Debug Output</h3>
    <div id="debug-output"></div>
  </div>

  <script>
    function testLocationAction(buttonElement) {
      const output = document.getElementById('debug-output');
      
      console.log('ðŸ”§ Testing button click...');
      console.log('ðŸ”§ Button element:', buttonElement);
      console.log('ðŸ”§ Button dataset:', buttonElement.dataset);
      
      // Test dataset access
      const locationId = buttonElement.dataset.locationId;
      const locationName = buttonElement.dataset.locationName;
      const locationLat = buttonElement.dataset.locationLat;
      const locationLng = buttonElement.dataset.locationLng;
      const action = buttonElement.dataset.action;
      
      console.log('ðŸ”§ Dataset values:', {
        locationId,
        locationName,
        locationLat,
        locationLng,
        action
      });
      
      // Test getAttribute access
      const attrLat = buttonElement.getAttribute('data-location-lat');
      const attrLng = buttonElement.getAttribute('data-location-lng');
      const attrName = buttonElement.getAttribute('data-location-name');
      const attrId = buttonElement.getAttribute('data-location-id');
      
      console.log('ðŸ”§ Attribute values:', {
        attrId,
        attrName,
        attrLat,
        attrLng
      });
      
      // Test parsing
      const lat = parseFloat(locationLat);
      const lng = parseFloat(locationLng);
      
      console.log('ðŸ”§ Parsed values:', {
        lat,
        lng,
        latValid: !isNaN(lat),
        lngValid: !isNaN(lng)
      });
      
      output.innerHTML = `
        <h4>Button Click Test Results:</h4>
        <p><strong>Location ID:</strong> ${locationId}</p>
        <p><strong>Location Name:</strong> ${locationName}</p>
        <p><strong>Lat (dataset):</strong> ${locationLat} â†’ ${lat} (${!isNaN(lat) ? 'valid' : 'invalid'})</p>
        <p><strong>Lng (dataset):</strong> ${locationLng} â†’ ${lng} (${!isNaN(lng) ? 'valid' : 'invalid'})</p>
        <p><strong>Lat (attr):</strong> ${attrLat}</p>
        <p><strong>Lng (attr):</strong> ${attrLng}</p>
        <p><strong>Action:</strong> ${action}</p>
      `;
    }
  </script>
</body>
</html>
